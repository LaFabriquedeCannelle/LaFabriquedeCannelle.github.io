<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>La Fabrique de Cannelle</title>

  <style>
    :root{
      --bg-rose: #fdecee;
      --beige: #ead6cb;
      --beige-dark:#d6b19f;
      --accent:#8b4f45;
      --text:#4a322d;
      --card-bg: #fff;
      --glass: rgba(255,255,255,0.6);
    }

    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial; color:var(--text); background:var(--bg-rose); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

    /* Layout */
    .app{display:flex;min-height:100vh;align-items:stretch;transition:filter .2s}
    /* sidebar */
    .sidebar{
      width:250px;
      background:linear-gradient(180deg,var(--beige), #f3e0d8);
      padding:26px 18px;
      border-right:1px solid rgba(0,0,0,.04);
      display:flex;flex-direction:column;gap:18px;
      flex-shrink:0;
      transition:width .25s ease;
    }
    .sidebar.collapsed{ width:86px; }
    .brand{display:flex;align-items:center;gap:12px;font-weight:700;color:var(--accent)}
    .brand .logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(180deg,var(--accent),#7b4036);color:white;display:grid;place-items:center;font-weight:800;font-size:18px}
    nav{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    .nav a{display:flex;gap:10px;align-items:center;padding:10px;border-radius:8px;color:var(--text);text-decoration:none;font-weight:700}
    .nav a:hover{background:rgba(0,0,0,0.03)}
    .label{display:inline-block}
    .sidebar.collapsed .label{display:none}

    .sidebar .toggle-mini{
      position:absolute;right:-18px;top:18px;background:var(--beige-dark);width:36px;height:36px;border-radius:10px;border:none;color:white;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.12);
    }
    /* Mobile hamburger - fixed top left */
    .hamburger{
      display:none;
      position:fixed;left:12px;top:12px;background:var(--accent);color:white;border:none;padding:10px;border-radius:10px;z-index:60;box-shadow:0 8px 24px rgba(0,0,0,.18);
    }

    /* Main */
    main{flex:1;padding:30px;display:flex;flex-direction:column;gap:18px;min-height:100vh}
    header{background:linear-gradient(90deg, rgba(139,79,69,0.06), rgba(139,79,69,0.02));padding:16px;border-radius:12px;text-align:center;box-shadow:0 6px 18px rgba(0,0,0,0.04)}
    header h1{color:var(--accent);font-size:28px;margin:0}

    /* Carousel */
    .center{display:flex;justify-content:center;align-items:center;gap:18px}
    .carousel-viewport{width:100%;max-width:960px;background:var(--card-bg);border-radius:12px;padding:18px;box-shadow:0 12px 30px rgba(0,0,0,0.06);overflow:hidden}
    .track{display:flex;gap:14px;transition:transform .35s cubic-bezier(.2,.9,.2,1);will-change:transform}
    .card{flex:0 0 calc((100% - 28px)/3);min-width:200px;border-radius:10px;background:#fff;padding:10px;border:1px solid rgba(0,0,0,0.03);display:flex;flex-direction:column;gap:8px;align-items:center}
    .card img{width:100%;height:190px;object-fit:cover;border-radius:8px}
    .card .title{font-weight:800;color:var(--accent)}
    .controls{display:flex;gap:10px;justify-content:flex-end;margin-top:10px}

    .btn{background:var(--beige-dark);border:none;color:white;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:700}

    /* Intro */
    .intro{max-width:960px;background:linear-gradient(180deg, var(--glass), rgba(255,255,255,0.4));padding:14px;border-radius:12px;border:1px solid rgba(0,0,0,0.02)}
    .intro h2{color:var(--accent);margin-bottom:6px}

    /* Footer small */
    .socials{display:flex;gap:12px;margin-top:8px}

    /* Responsive */
    @media (max-width:920px){
      .sidebar{display:none}
      .hamburger{display:inline-flex}
      .card{flex:0 0 80%}
      .carousel-viewport{padding:12px}
      main{padding:18px}
    }

    /* slide-in mobile menu */
    .mobile-menu{
      position:fixed;left:0;top:0;bottom:0;width:280px;background:linear-gradient(180deg,var(--beige),#f3e0d8);z-index:70;padding:20px;box-shadow: 8px 0 30px rgba(0,0,0,0.2);transform:translateX(-110%);transition:transform .26s cubic-bezier(.2,.9,.2,1);
    }
    .mobile-menu.open{transform:translateX(0)}
    .mobile-menu .close{position:absolute;right:12px;top:12px;background:transparent;border:none;font-weight:800;cursor:pointer}

    /* small helper */
    .muted{color:#6b4e48;opacity:.9}
  </style>
</head>
<body>
  <button class="hamburger" id="hamburgerBtn" aria-label="Ouvrir le menu">‚ò∞</button>

  <div class="app" id="appRoot">
    <!-- Sidebar (desktop) -->
    <aside class="sidebar" id="sidebar" aria-label="Navigation lat√©rale">
      <div style="position:relative">
        <div class="brand">
          <div class="logo">C</div>
          <div class="label">La Fabrique de Cannelle</div>
        </div>

        <button class="sidebar-toggle toggle-mini" id="sidebarToggle" title="R√©duire/ouvrir le menu">‚â°</button>
      </div>

      <nav class="nav" aria-label="Menu principal">
        <a href="#shop"><span class="label">üõçÔ∏è</span> <span class="label">Shop</span></a>
        <a href="#apropos"><span class="label">‚ÑπÔ∏è</span> <span class="label">√Ä propos</span></a>
        <a href="#contact"><span class="label">‚úâÔ∏è</span> <span class="label">Contact</span></a>
        <a id="insta" href="https://www.instagram.com/lafabriquedecannelle/" target="_blank" rel="noopener">üì∑ <span class="label">Instagram</span></a>
        <a id="tiktok" href="https://www.instagram.com/lafabriquedecannelle/" target="_blank" rel="noopener">üéµ <span class="label">TikTok</span></a>
      </nav>

      <div style="flex:1"></div>

      <div class="muted" style="font-size:13px">
        <strong>Besoin d‚Äôaide ?</strong>
        <div style="margin-top:8px">Contactez-moi pour ajouter vos photos ou produits.</div>
      </div>
    </aside>

    <!-- Main content -->
    <main>
      <header>
        <h1>La Fabrique de Cannelle</h1>
      </header>

      <section class="center" aria-labelledby="welcome">
        <div class="carousel-viewport" role="region" aria-label="Carrousel d'articles">
          <div id="track" class="track">
            <div class="card" data-index="0">
              <img src="https://via.placeholder.com/800x500/ffdede/fff?text=Article+1" alt="Article 1">
              <div class="title">Article 1</div>
              <div class="desc muted">Remplace cette image par ta photo (dans le repo).</div>
            </div>

            <div class="card" data-index="1">
              <img src="https://via.placeholder.com/800x500/fff0f2/ffd6e0?text=Article+2" alt="Article 2">
              <div class="title">Article 2</div>
              <div class="desc muted">Remplace cette image par ta photo.</div>
            </div>

            <div class="card" data-index="2">
              <img src="https://via.placeholder.com/800x500/fff7f5/ffecec?text=Article+3" alt="Article 3">
              <div class="title">Article 3</div>
              <div class="desc muted">Remplace cette image par ta photo.</div>
            </div>

            <!-- tu peux ajouter d'autres .card ici -->
          </div>

          <div class="controls" aria-hidden="false" style="margin-top:12px">
            <button class="btn" id="prev">‚Äπ Pr√©c</button>
            <button class="btn" id="next">Suiv ‚Ä∫</button>
          </div>
        </div>
      </section>

      <section class="intro" id="welcome">
        <h2>Bienvenue dans mon univers ‚ú®</h2>
        <p class="muted" style="margin-top:6px">Version optimis√©e pour GitHub Pages. Pour remplacer une image, mets tes fichiers dans le repo et change l'attribut <code>src</code> de la &lt;img&gt; (ex: <code>images/monphoto.jpg</code>).</p>

        <div class="socials">
          <a href="https://www.instagram.com/lafabriquedecannelle/" target="_blank" rel="noopener" style="text-decoration:none;font-weight:700;color:var(--text)">üì∑ Instagram</a>
          <a href="https://www.instagram.com/lafabriquedecannelle/" target="_blank" rel="noopener" style="text-decoration:none;font-weight:700;color:var(--text)">üéµ TikTok</a>
        </div>
      </section>

      <!-- ancres vides -->
      <section id="shop"></section>
      <section id="apropos"></section>
      <section id="contact"></section>
    </main>
  </div>

  <!-- Mobile sliding menu -->
  <aside class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <button class="close" id="mobileClose" aria-label="Fermer le menu">‚úï</button>

    <div class="brand" style="margin-bottom:14px;">
      <div class="logo">C</div>
      <div style="font-weight:800">La Fabrique de Cannelle</div>
    </div>

    <nav style="display:flex;flex-direction:column;gap:10px">
      <a href="#shop" class="nav" onclick="closeMobile()">üõçÔ∏è Shop</a>
      <a href="#apropos" class="nav" onclick="closeMobile()">‚ÑπÔ∏è √Ä propos</a>
      <a href="#contact" class="nav" onclick="closeMobile()">‚úâÔ∏è Contact</a>
      <a href="https://www.instagram.com/lafabriquedecannelle/" target="_blank" rel="noopener" class="nav" onclick="closeMobile()">üì∑ Instagram</a>
      <a href="https://www.instagram.com/lafabriquedecannelle/" target="_blank" rel="noopener" class="nav" onclick="closeMobile()">üéµ TikTok</a>
    </nav>
  </aside>

  <script>
    // Sidebar collapse (desktop)
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    sidebarToggle.addEventListener('click', () => {
      sidebar.classList.toggle('collapsed');
    });

    // Mobile hamburger + menu
    const hamburger = document.getElementById('hamburgerBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileClose = document.getElementById('mobileClose');

    function openMobile(){
      mobileMenu.classList.add('open');
      mobileMenu.setAttribute('aria-hidden','false');
    }
    function closeMobile(){
      mobileMenu.classList.remove('open');
      mobileMenu.setAttribute('aria-hidden','true');
    }

    hamburger.addEventListener('click', openMobile);
    mobileClose.addEventListener('click', closeMobile);

    // Close mobile when clicking outside
    document.addEventListener('click', (e)=>{
      if(window.innerWidth > 920) return;
      if(!mobileMenu.classList.contains('open')) return;
      const within = mobileMenu.contains(e.target) || hamburger.contains(e.target);
      if(!within) closeMobile();
    });

    // CAROUSEL
    (function(){
      const track = document.getElementById('track');
      const cards = Array.from(track.children);
      const prev = document.getElementById('prev');
      const next = document.getElementById('next');
      let index = 0;

      function cardWidth(){
        const gap = 14;
        const rect = cards[0].getBoundingClientRect();
        return Math.round(rect.width + gap);
      }

      function update(){
        const w = cardWidth();
        const visibleCount = window.innerWidth < 920 ? 1 : 3;
        const maxIndex = Math.max(0, cards.length - visibleCount);
        if(index < 0) index = 0;
        if(index > maxIndex) index = maxIndex;
        track.style.transform = 'translateX(' + (-index * w) + 'px)';
      }

      prev.addEventListener('click', ()=>{
        index--;
        update();
      });
      next.addEventListener('click', ()=>{
        index++;
        update();
      });

      window.addEventListener('resize', update);
      window.addEventListener('load', update);

      // Drag to move
      let dragging=false, startX=0, startTranslate=0;
      track.addEventListener('pointerdown', (e)=>{
        dragging=true;
        startX = e.clientX;
        const m = track.style.transform.match(/translateX\((-?\d+)px\)/);
        startTranslate = m ? parseInt(m[1],10) : 0;
        track.style.transition = 'none';
        track.setPointerCapture(e.pointerId);
      });
      track.addEventListener('pointermove', (e)=>{
        if(!dragging) return;
        const dx = e.clientX - startX;
        track.style.transform = `translateX(${startTranslate + dx}px)`;
      });
      track.addEventListener('pointerup', (e)=>{
        dragging=false;
        track.style.transition = '';
        const w = cardWidth();
        const m = track.style.transform.match(/translateX\((-?\d+)px\)/);
        const cur = m ? parseInt(m[1],10) : 0;
        index = Math.round(Math.abs(cur) / w);
        update();
      });
      track.addEventListener('pointercancel', ()=>{ dragging=false; track.style.transition=''; update(); });

      // keyboard
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowLeft') { index--; update(); }
        if(e.key === 'ArrowRight') { index++; update(); }
      });
    })();
  </script>
</body>
</html>
